<?xml version="1.0" encoding="utf-8"?>

<config>
	<global>
		<logfileRootDir>Logs_VSS</logfileRootDir>
		<defaultSnapshot>ICABase</defaultSnapshot>
		<email>
			<recipients>
				<to>email_address</to> 
			</recipients>
			<sender>email_address</sender>
			<subject>email_subject</subject>
			<smtpServer>smtp_server</smtpServer>
		</email>
	</global>

	 <VMs>
		<vm>
			<hvServer>localhost</hvServer>
			<vmName>vmName</vmName>
			<os>Linux</os>
			<ipv4>ipAddress</ipv4>
			<sshKey>SshKey</sshKey>
			<suite>VSS</suite>

			<testparams>
				<param>RootDir=C:\lis-test\WS2012R2\lisa</param> 
				<param>HYPERV_MODULES=(hv_vmbus hv_storvsc hv_utils hid-hyperv hv_netvsc)</param>
			</testparams>
		</vm>
	</VMs>

	<testSuites>

		<suite>
			<suiteName>VSS</suiteName>
			<suiteTests>
				<suiteTest>VSS_BackupRestore</suiteTest>
				<suiteTest>VSS_BackupRestore_ext3_vhd</suiteTest>
				<suiteTest>VSS_BackupRestore_ext4_vhd</suiteTest>
				<suiteTest>VSS_BackupRestore_reiserfs_vhd</suiteTest>
				<suiteTest>VSS_BackupRestore_ext4_vhdx</suiteTest>
				<suiteTest>VSS_BackupRestore_ISO_NoNetwork</suiteTest>
				<suiteTest>VSS_BackupRestore_3Chain_VHD</suiteTest>
				<suiteTest>VSS_BackupRestore_State_Off</suiteTest>
				<suiteTest>VSS_BackupRestore_State_Paused</suiteTest>
				<suiteTest>VSS_BackupRestore_Fail</suiteTest>
				<suiteTest>VSS_BackupRestore_PassTru</suiteTest>
				<suiteTest>VSS_BackupRestore_ISCSI</suiteTest>
				<suiteTest>VSS_BackupRestore_DiskStress</suiteTest>
			</suiteTests>
		</suite>
	</testSuites>


	<testCases>

	<test>
	<testName>VSS_BackupRestore</testName>
		<testScript>setupscripts\VSS_BackupRestore.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>snapshotName=ICABase</param>
		</testParams>
		<timeout>1200</timeout>
		<cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_ext3_vhd</testName>
		<setupScript>setupscripts\AddHardDisk.ps1</setupScript>
		<testScript>setupscripts\VSS_BackupRestore_Partition.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>SCSI=0,1,Dynamic</param>
			<param>IDE=0,1,Dynamic</param>
			<param>FILESYS=ext3</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<timeout>1200</timeout>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_ext4_vhd</testName>
		<setupScript>setupscripts\AddHardDisk.ps1</setupScript>
		<testScript>setupscripts\VSS_BackupRestore_Partition.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>SCSI=0,1,Dynamic</param>
			<param>IDE=0,1,Dynamic</param>
			<param>FILESYS=ext4</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<timeout>1200</timeout>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_reiserfs_vhd</testName>
		<setupScript>setupscripts\AddHardDisk.ps1</setupScript>
		<testScript>setupscripts\VSS_BackupRestore_Partition.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>SCSI=0,1,Dynamic</param>
			<param>IDE=0,1,Dynamic</param>
			<param>FILESYS=reiserfs</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<timeout>1200</timeout>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_ext4_vhdx</testName>
		<setupScript>setupscripts\AddVhdxHardDisk.ps1</setupScript>
		<testScript>setupscripts\VSS_BackupRestore_Partition.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>SCSI=0,1,Dynamic</param>
			<param>IDE=0,1,Dynamic</param>
			<param>FILESYS=ext4</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<timeout>1200</timeout>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_ISO_NoNetwork</testName>
		<testScript>setupscripts\VSS_BackupRestore_ISO_NoNetwork.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<timeout>1200</timeout>
        <cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_3Chain_VHD</testName>
		<testScript>setupscripts\VSS_3Chain_VHD_backup.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<timeout>1200</timeout>
        <cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_ISCSI</testName>
		<testScript>setupscripts\VSS_BackupRestore_ISCSI.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>TargetIP=10.7.1.10</param>
			<param>FILESYS=ext4</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<timeout>1200</timeout>
        <cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_DiskStress</testName>
		<testScript>setupscripts\VSS_BackupRestore_DiskStress.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
        </testParams>
		<timeout>1200</timeout>
        <cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnERROR>Continue</OnERROR>
	</test>

	<test>
	<testName>VSS_BackupRestore_State_Off</testName>
		<testScript>setupscripts\VSS_BackupRestore_State.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>vmState=Off</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<timeout>1200</timeout>
        <cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnERROR>Continue</OnERROR>
	</test>

	<test>
	<testName>VSS_BackupRestore_State_Paused</testName>
		<testScript>setupscripts\VSS_BackupRestore_State.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>vmState=Paused</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<timeout>1200</timeout>
        <cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnERROR>Continue</OnERROR>
	</test>

	<test>
	<testName>VSS_BackupRestore_PassTru</testName>
		<setupScript>setupscripts\AddHardDisk.ps1</setupScript>
		<testScript>setupscripts\VSS_BackupRestore_Partition.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>SCSI=0,1,PassThrough</param>
        </testParams>
        <cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<OnError>Continue</OnError>
	</test>

	<test>
	<testName>VSS_BackupRestore_Fail</testName>
		<setupScript>setupscripts\AddHardDisk.ps1</setupScript>
		<testScript>setupscripts\VSS_BackupRestore_Fail.ps1</testScript> 
		<testParams>
			<param>driveletter=F:</param>
			<param>SCSI=0,1,Dynamic</param>
			<param>IDE=0,1,Dynamic</param>
			<param>FILESYS-ext3</param>
            <param>snapshotName=ICABase</param>
		</testParams>
		<cleanupScript>setupscripts\RevertSnapshot.ps1</cleanupScript>
		<timeout>1200</timeout>
		<OnERROR>Continue</OnERROR>
	</test>
	
	</testCases>

</config>